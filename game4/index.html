<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tå¤§ä»˜å±Sé«˜æ ¡ é¢æ¥å®˜ã‚²ãƒ¼ãƒ </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: #2d2d2d;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
        
        #game-container {
            background: #1a1a1a;
            border: 4px solid #444;
            padding: 20px;
            max-width: 800px;
            width: 100%;
        }
        
        #header {
            text-align: center;
            padding: 10px;
            background: #333;
            border: 2px solid #555;
            margin-bottom: 20px;
        }
        
        h1 {
            font-size: 22px;
            color: #6b9bff;
            text-shadow: 2px 2px #000;
        }
        
        #stats {
            display: flex;
            justify-content: space-around;
            margin: 10px 0;
            font-size: 14px;
        }
        
        #main-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        #student-area, #document-area {
            background: #252525;
            border: 2px solid #444;
            padding: 15px;
            min-height: 300px;
        }
        
        #student-sprite {
            width: 120px;
            height: 120px;
            margin: 20px auto;
            background: #444;
            border: 2px solid #666;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
        }
        
        #student-info {
            margin-top: 15px;
            line-height: 1.8;
        }
        
        #document {
            background: #f0f0f0;
            color: #000;
            padding: 15px;
            border: 2px solid #999;
            font-size: 12px;
            line-height: 1.6;
        }
        
        .doc-header {
            text-align: center;
            font-weight: bold;
            border-bottom: 2px solid #000;
            padding-bottom: 5px;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .doc-field {
            margin: 8px 0;
        }
        
        .doc-label {
            font-weight: bold;
            display: inline-block;
            width: 100px;
        }
        
        #question-area {
            background: #252525;
            border: 2px solid #444;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        #questions {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
            margin-top: 10px;
        }
        
        button {
            background: #4a4a4a;
            color: #fff;
            border: 2px solid #666;
            padding: 10px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            transition: all 0.2s;
        }
        
        button:hover {
            background: #5a5a5a;
            border-color: #888;
        }
        
        button:active {
            background: #3a3a3a;
        }
        
        #decision-area {
            display: flex;
            gap: 20px;
            justify-content: center;
        }
        
        #pass-btn {
            background: #2d862d;
            border-color: #4a4;
            flex: 1;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
        }
        
        #pass-btn:hover {
            background: #3da63d;
        }
        
        #fail-btn {
            background: #862d2d;
            border-color: #a44;
            flex: 1;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
        }
        
        #fail-btn:hover {
            background: #a63d3d;
        }
        
        #response {
            margin-top: 15px;
            padding: 10px;
            background: #333;
            border: 2px solid #555;
            text-align: center;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .correct {
            color: #4f4;
        }
        
        .incorrect {
            color: #f44;
        }
        
        #game-over {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1a1a1a;
            border: 4px solid #6b9bff;
            padding: 40px;
            text-align: center;
            z-index: 1000;
        }
        
        #game-over h2 {
            font-size: 32px;
            margin-bottom: 20px;
        }
        
        #restart-btn {
            margin-top: 20px;
            padding: 15px 30px;
            font-size: 16px;
            background: #6b9bff;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="header">
            <h1>ğŸ“ Tå¤§ä»˜å±Sé«˜ç­‰å­¦æ ¡ é¢æ¥å¯©æŸ» ğŸ“</h1>
            <div id="stats">
                <span>å—é¨“ç”Ÿ: <span id="day">1</span></span>
                <span>åˆæ ¼: <span id="approved">0</span></span>
                <span>ä¸åˆæ ¼: <span id="denied">0</span></span>
                <span>åˆ¤å®šç²¾åº¦: <span id="accuracy">100</span>%</span>
            </div>
        </div>
        
        <div id="main-area">
            <div id="student-area">
                <h3>å—é¨“ç”Ÿ</h3>
                <div id="student-sprite">ğŸ§‘â€ğŸ“</div>
                <div id="student-info">
                    <div><strong>æ°å:</strong> <span id="name">---</span></div>
                    <div><strong>æ…‹åº¦:</strong> <span id="attitude">---</span></div>
                </div>
            </div>
            
            <div id="document-area">
                <h3>é¡˜æ›¸ãƒ»èª¿æŸ»æ›¸</h3>
                <div id="document">
                    <div class="doc-header">å—é¨“é¡˜æ›¸</div>
                    <div class="doc-field">
                        <span class="doc-label">æ°å:</span>
                        <span id="doc-name">---</span>
                    </div>
                    <div class="doc-field">
                        <span class="doc-label">å‡ºèº«ä¸­å­¦:</span>
                        <span id="doc-school">---</span>
                    </div>
                    <div class="doc-field">
                        <span class="doc-label">å†…ç”³ç‚¹:</span>
                        <span id="doc-grade">---</span>
                    </div>
                    <div class="doc-field">
                        <span class="doc-label">æ¬ å¸­æ—¥æ•°:</span>
                        <span id="doc-absence">---</span>
                    </div>
                    <div class="doc-field">
                        <span class="doc-label">éƒ¨æ´»å‹•:</span>
                        <span id="doc-club">---</span>
                    </div>
                    <div class="doc-field">
                        <span class="doc-label">å¿—æœ›ç†ç”±:</span>
                        <span id="doc-reason">---</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="question-area">
            <h3>è³ªå•ã™ã‚‹ (ã‚¯ãƒªãƒƒã‚¯ã—ã¦è³ªå•)</h3>
            <div id="questions">
                <button onclick="askQuestion('motivation')">å¿—æœ›å‹•æ©Ÿã¯?</button>
                <button onclick="askQuestion('strength')">ã‚ãªãŸã®é•·æ‰€ã¯?</button>
                <button onclick="askQuestion('study')">å¾—æ„ç§‘ç›®ã¯?</button>
                <button onclick="askQuestion('future')">å°†æ¥ã®å¤¢ã¯?</button>
                <button onclick="askQuestion('detail')">ã‚‚ã£ã¨è©³ã—ã</button>
                <button onclick="askQuestion('absence')">æ¬ å¸­ã«ã¤ã„ã¦</button>
                <button onclick="askQuestion('club_detail')">éƒ¨æ´»å‹•ã®å…·ä½“ä¾‹ã¯?</button>
                <button onclick="askQuestion('why_here')">ãªãœæœ¬æ ¡ãªã®ã‹?</button>
                <button onclick="askQuestion('last_chance')">æœ€å¾Œã«è¨€ã„ãŸã„ã“ã¨ã¯?</button>
            </div>
            <div id="response"></div>
        </div>
        
        <div id="decision-area">
            <button id="pass-btn" onclick="makeDecision(true)">âœ“ åˆæ ¼</button>
            <button id="fail-btn" onclick="makeDecision(false)">âœ— ä¸åˆæ ¼</button>
        </div>
    </div>
    
    <div id="game-over">
        <h2>é¢æ¥å¯©æŸ»çµ‚äº†</h2>
        <p id="final-stats"></p>
        <button id="restart-btn" onclick="location.reload()">å†ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
    </div>
    
    <script>
        const firstNames = ['ç”°ä¸­', 'ä½è—¤', 'éˆ´æœ¨', 'é«˜æ©‹', 'ä¼Šè—¤', 'æ¸¡è¾º', 'å±±æœ¬', 'ä¸­æ‘', 'å°æ—', 'åŠ è—¤'];
        const lastNames = ['å¤ªéƒ', 'èŠ±å­', 'å¥äºŒ', 'ç¾å’²', 'ç¿”å¤ª', 'æ„›', 'å¤§è¼”', 'çµè¡£', 'æ‹“ä¹Ÿ', 'å½©'];
        const schools = ['æ¡œãƒ¶ä¸˜ä¸­å­¦æ ¡', 'é’è‘‰å°ä¸­å­¦æ ¡', 'ç·‘å±±ä¸­å­¦æ ¡', 'æµ·é¢¨ä¸­å­¦æ ¡', 'å…‰æ˜ä¸­å­¦æ ¡', 'å¸Œæœ›ä¸­å­¦æ ¡'];
        const clubs = ['ã‚µãƒƒã‚«ãƒ¼éƒ¨', 'é‡çƒéƒ¨', 'å¹å¥æ¥½éƒ¨', 'ãƒã‚¹ã‚±éƒ¨', 'ç¾è¡“éƒ¨', 'ç§‘å­¦éƒ¨', 'å¸°å®…éƒ¨', 'ãƒ†ãƒ‹ã‚¹éƒ¨'];
        const reasons = [
            'å¤§å­¦é€²å­¦ç‡ãŒé«˜ã„ãŸã‚',
            'å……å®Ÿã—ãŸè¨­å‚™ã«é­…åŠ›ã‚’æ„Ÿã˜ãŸ',
            'å…ˆè¼©ã®è©±ã‚’èã„ã¦æ†§ã‚ŒãŸ',
            'å®¶ã‹ã‚‰è¿‘ã„ãŸã‚',
            'éƒ¨æ´»å‹•ãŒç››ã‚“ã ã‹ã‚‰'
        ];
        
        let stats = {
            day: 1,
            approved: 0,
            denied: 0,
            correct: 0,
            total: 0
        };
        
        let currentStudent = null;
        
        function generateStudent() {
            const shouldPass = Math.random() > 0.4;
            const name = `${firstNames[Math.floor(Math.random() * firstNames.length)]} ${lastNames[Math.floor(Math.random() * lastNames.length)]}`;
            const docName = shouldPass ? name : (Math.random() > 0.7 ? `${firstNames[Math.floor(Math.random() * firstNames.length)]} ${lastNames[Math.floor(Math.random() * lastNames.length)]}` : name);
            
            const school = schools[Math.floor(Math.random() * schools.length)];
            const club = clubs[Math.floor(Math.random() * clubs.length)];
            const reason = reasons[Math.floor(Math.random() * reasons.length)];
            
            // å†…ç”³ç‚¹: 25-45ç‚¹ (45ç‚¹æº€ç‚¹)
            const baseGrade = shouldPass ? Math.floor(Math.random() * 10) + 32 : Math.floor(Math.random() * 15) + 20;
            const grade = baseGrade;
            
            // æ¬ å¸­æ—¥æ•°
            const absence = shouldPass ? Math.floor(Math.random() * 5) : Math.floor(Math.random() * 30) + 5;
            
            const hasNameMismatch = name !== docName;
            const hasLowGrade = grade < 30;
            const hasManyAbsences = absence > 15;
            
            // çŸ›ç›¾ã‚„æ²ˆé»™ã®å•é¡Œ
            const hasContradiction = !shouldPass && Math.random() > 0.5;
            const hasSilence = !shouldPass && Math.random() > 0.6;
            const hasDocMismatch = !shouldPass && Math.random() > 0.5; // æ›¸é¡ã¨ã®é£Ÿã„é•ã„
            const hasIrrelevantAnswer = !shouldPass && Math.random() > 0.5; // è³ªå•ã¨é–¢ä¿‚ãªã„å›ç­”
            
            const attitude = shouldPass ? 
                ['ç¤¼å„€æ­£ã—ã„', 'ã¯ãã¯ãã—ã¦ã„ã‚‹', 'è½ã¡ç€ã„ã¦ã„ã‚‹'][Math.floor(Math.random() * 3)] :
                ['ç·Šå¼µã—ã¦ã„ã‚‹', 'è¦–ç·šãŒåˆã‚ãªã„', 'ã‚‚ã˜ã‚‚ã˜ã—ã¦ã„ã‚‹'][Math.floor(Math.random() * 3)];
            
            currentStudent = {
                name: name,
                docName: docName,
                school: school,
                grade: grade + '/45',
                gradeNum: grade,
                absence: absence + 'æ—¥',
                absenceNum: absence,
                club: club,
                reason: reason,
                attitude: attitude,
                shouldPass: shouldPass && !hasNameMismatch && !hasLowGrade && !hasManyAbsences,
                hasContradiction: hasContradiction,
                hasSilence: hasSilence,
                hasDocMismatch: hasDocMismatch,
                hasIrrelevantAnswer: hasIrrelevantAnswer,
                askedQuestions: {},
                lastQuestion: null,
                questionCount: 0,
                nervousness: shouldPass ? 0 : Math.floor(Math.random() * 3) + 2, // ç·Šå¼µåº¦ 0-5
                issues: []
            };
            
            if (hasNameMismatch) currentStudent.issues.push('åå‰ã®ä¸ä¸€è‡´');
            if (hasLowGrade) currentStudent.issues.push('å†…ç”³ç‚¹ä¸è¶³');
            if (hasManyAbsences) currentStudent.issues.push('æ¬ å¸­éå¤š');
            if (hasContradiction) currentStudent.issues.push('å›ç­”ã«çŸ›ç›¾ã‚ã‚Š');
            if (hasSilence) currentStudent.issues.push('é•·æ™‚é–“ã®æ²ˆé»™');
            if (hasDocMismatch) currentStudent.issues.push('æ›¸é¡ã¨ã®é£Ÿã„é•ã„');
            if (hasIrrelevantAnswer) currentStudent.issues.push('è³ªå•ã«ç­”ãˆã¦ã„ãªã„');
            if (!shouldPass && currentStudent.issues.length === 0) {
                const extraIssues = ['é¢æ¥æ…‹åº¦ä¸è‰¯', 'å¿—æœ›å‹•æ©ŸãŒä¸æ˜ç¢º', 'åŸºç¤å­¦åŠ›ä¸è¶³'];
                currentStudent.issues.push(extraIssues[Math.floor(Math.random() * extraIssues.length)]);
            }
            
            displayStudent();
        }
        
        function displayStudent() {
            const sprites = ['ğŸ‘¨â€ğŸ“', 'ğŸ‘©â€ğŸ“', 'ğŸ§‘â€ğŸ“'];
            document.getElementById('student-sprite').textContent = sprites[Math.floor(Math.random() * sprites.length)];
            document.getElementById('name').textContent = currentStudent.name;
            updateAttitude();
            
            document.getElementById('doc-name').textContent = currentStudent.docName;
            document.getElementById('doc-school').textContent = currentStudent.school;
            document.getElementById('doc-grade').textContent = currentStudent.grade;
            document.getElementById('doc-absence').textContent = currentStudent.absence;
            document.getElementById('doc-club').textContent = currentStudent.club;
            document.getElementById('doc-reason').textContent = currentStudent.reason;
            
            document.getElementById('response').textContent = '';
        }
        
        function updateAttitude() {
            let attitude = '';
            
            if (currentStudent.shouldPass) {
                // åˆæ ¼è€…ã¯è³ªå•ãŒé€²ã‚€ã¨è½ã¡ç€ã„ã¦ãã‚‹
                if (currentStudent.questionCount === 0) {
                    attitude = 'ã‚„ã‚„ç·Šå¼µ';
                } else if (currentStudent.questionCount <= 2) {
                    attitude = 'è½ã¡ç€ã„ã¦ããŸ';
                } else {
                    attitude = 'ã¯ãã¯ãã—ã¦ã„ã‚‹';
                }
            } else {
                // ä¸åˆæ ¼è€…ã¯ç·Šå¼µåº¦ã«ã‚ˆã£ã¦å¤‰åŒ–
                if (currentStudent.nervousness >= 4) {
                    const states = ['ã†ã‚ãŸãˆã¦ã„ã‚‹', 'æ±—ã‚’ã‹ã„ã¦ã„ã‚‹', 'è¦–ç·šãŒæ³³ã„ã§ã„ã‚‹', 'æ‰‹ãŒéœ‡ãˆã¦ã„ã‚‹'];
                    attitude = states[Math.floor(Math.random() * states.length)];
                } else if (currentStudent.nervousness >= 2) {
                    attitude = 'ã‹ãªã‚Šç·Šå¼µã—ã¦ã„ã‚‹';
                } else {
                    attitude = 'è½ã¡ç€ã„ã¦ããŸ';
                }
            }
            
            document.getElementById('attitude').textContent = attitude;
        }
        
        function askQuestion(type) {
            currentStudent.questionCount++;
            
            // è¿½æ±‚è³ªå•ã‚„å³ã—ã„è³ªå•ã§ç·Šå¼µåº¦ãŒä¸ŠãŒã‚‹
            const stressfulQuestions = ['detail', 'absence', 'why_here'];
            if (stressfulQuestions.includes(type) && !currentStudent.shouldPass) {
                currentStudent.nervousness = Math.min(5, currentStudent.nervousness + 1);
            }
            
            // åŒã˜è³ªå•ã‚’ç¹°ã‚Šè¿”ã™ã¨ä¸åˆæ ¼è€…ã¯ã•ã‚‰ã«ç·Šå¼µ
            if (currentStudent.askedQuestions[type] && !currentStudent.shouldPass) {
                currentStudent.nervousness = Math.min(5, currentStudent.nervousness + 1);
            }
            
            // è³ªå•ã‚’é‡ã­ã‚‹ã¨åˆæ ¼è€…ã¯è½ã¡ç€ãã€ä¸åˆæ ¼è€…ã¯ç·Šå¼µãŒå°‘ã—å’Œã‚‰ãã“ã¨ã‚‚ã‚ã‚‹
            if (currentStudent.questionCount > 3) {
                if (currentStudent.shouldPass) {
                    currentStudent.nervousness = 0;
                } else if (currentStudent.nervousness > 2 && Math.random() > 0.7) {
                    currentStudent.nervousness = Math.max(1, currentStudent.nervousness - 1);
                }
            }
            
            updateAttitude(); // æ…‹åº¦ã‚’æ›´æ–°
            
            // ã€Œã‚‚ã£ã¨è©³ã—ãã€ã¯ç›´å‰ã®è³ªå•ã‚’æ·±å €ã‚Š
            if (type === 'detail') {
                if (!currentStudent.lastQuestion) {
                    document.getElementById('response').textContent = 'ã€Œä½•ã«ã¤ã„ã¦ã§ã—ã‚‡ã†ã‹...ï¼Ÿã€';
                    return;
                }
                
                if (currentStudent.shouldPass) {
                    const detailResponses = {
                        motivation: `ã€Œå…·ä½“çš„ã«ã¯ã€è²´æ ¡ã®å›³æ›¸é¤¨ã®è”µæ›¸æ•°ãŒé­…åŠ›çš„ã§ã—ãŸã€‚ã¾ãŸã€å…ˆè¼©ã‹ã‚‰èã„ãŸå…ˆç”Ÿæ–¹ã®ç†±å¿ƒãªæŒ‡å°ã«ã‚‚æƒ¹ã‹ã‚Œã¾ã—ãŸã€‚ã€`,
                        strength: `ã€Œä¾‹ãˆã°ã€éƒ¨æ´»å‹•ã§å¾Œè¼©ã®æŒ‡å°ã‚’ä»»ã•ã‚ŒãŸæ™‚ã€å€‹ã€…ã®ç‰¹æ€§ã‚’è¦‹æ¥µã‚ã¦å£°ã‚’ã‹ã‘ã‚‹ã“ã¨ã§ã€ãƒãƒ¼ãƒ å…¨ä½“ã®ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã«è²¢çŒ®ã§ãã¾ã—ãŸã€‚ã€`,
                        study: `ã€Œç‰¹ã«ã€æ•°å­¦ã®è¨¼æ˜å•é¡Œã«å–ã‚Šçµ„ã‚€ã®ãŒå¥½ãã§ã™ã€‚ä¸€ã¤ã®å•é¡Œã‚’æ§˜ã€…ãªè§’åº¦ã‹ã‚‰è€ƒå¯Ÿã—ã€æœ€é©ãªè§£æ³•ã‚’è¦‹ã¤ã‘ã‚‹éç¨‹ãŒæ¥½ã—ã„ã§ã™ã€‚ã€`,
                        future: `ã€Œç ”ç©¶è€…ã¨ã—ã¦ã€ç’°å¢ƒå•é¡Œã®è§£æ±ºã«è²¢çŒ®ã—ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã«ã€ã¾ãšã¯åŸºç¤ç§‘å­¦ã‚’ã—ã£ã‹ã‚Šå­¦ã³ãŸã„ã§ã™ã€‚ã€`
                    };
                    document.getElementById('response').textContent = detailResponses[currentStudent.lastQuestion] || 'ã€Œå…ˆã»ã©ãŠç­”ãˆã—ãŸé€šã‚Šã€ãã‚ŒãŒå…¨ã¦ã§ã™ã€‚ã€';
                } else {
                    // ç·Šå¼µåº¦ã«ã‚ˆã£ã¦å›ç­”ãŒå¤‰ã‚ã‚‹
                    if (currentStudent.nervousness >= 4) {
                        const panicResponses = [
                            'ã€Œã‚ã€ãˆã£ã¨...ï¼ˆé•·ã„æ²ˆé»™ï¼‰...ã™ã¿ã¾ã›ã‚“ã€é ­ãŒçœŸã£ç™½ã§...ã€',
                            'ã€Œã©ã€ã©ã†ç­”ãˆã‚Œã°...ã‚ã‹ã‚Šã¾ã›ã‚“...ã€',
                            'ã€Œï¼ˆæ±—ã‚’æ‹­ããªãŒã‚‰ï¼‰...ã‚‚ã€ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“...ã€'
                        ];
                        document.getElementById('response').textContent = panicResponses[Math.floor(Math.random() * panicResponses.length)];
                    } else {
                        const weakResponses = [
                            'ã€Œãˆã£ã¨...ãã‚Œä»¥ä¸Šã¯...ç‰¹ã«ãªã„ã§ã™ã€‚ã€',
                            'ã€Œ...è©³ã—ãã¨è¨€ã‚ã‚Œã¦ã‚‚...ã©ã†ç­”ãˆã‚Œã°ã„ã„ã‹...ã€',
                            'ã€Œå…·ä½“çš„ã«ã¯...ã‚ˆãè¦šãˆã¦ã„ã¾ã›ã‚“ã€‚ã€'
                        ];
                        document.getElementById('response').textContent = weakResponses[Math.floor(Math.random() * weakResponses.length)];
                    }
                }
                return;
            }
            
            // åŒã˜è³ªå•ã‚’2å›ç›®ã«èã„ãŸå ´åˆ
            if (currentStudent.askedQuestions[type]) {
                if (currentStudent.hasContradiction) {
                    const contradictions = {
                        motivation: `ã€Œã‚ã€ãˆã£ã¨...å…ˆã»ã©ã¨é•ã†ã‚“ã§ã™ãŒ...å®Ÿã¯è¦ªã«å‹§ã‚ã‚‰ã‚ŒãŸã‹ã‚‰ã§ã™ã€‚ã€`,
                        strength: `ã€Œã•ã£ãä½•ã¦è¨€ã„ã¾ã—ãŸã£ã‘...ï¼Ÿã‚ã€é•ã£ãŸã€çŸ­æ‰€ã¯å„ªæŸ”ä¸æ–­ãªã¨ã“ã‚ã§ã™ã€‚ã€`,
                        study: `ã€Œã‚ã‚Œã€ã•ã£ãã¨é•ã†ã“ã¨è¨€ã£ã¦ã¾ã™ã­...å®Ÿã¯å…¨éƒ¨è‹¦æ‰‹ã§ã™ã€‚ã€`,
                        future: `ã€Œ...ã™ã¿ã¾ã›ã‚“ã€å…ˆã»ã©ã¨ã¯é•ã„ã¾ã™ãŒã€ã¾ã ä½•ã‚‚è€ƒãˆã¦ã„ã¾ã›ã‚“ã€‚ã€`,
                        absence: `ã€Œã‚ã‚Œï¼Ÿæœ€åˆã¯é¢¨é‚ªã£ã¦è¨€ã„ã¾ã—ãŸã£ã‘...å®Ÿã¯...ã€`,
                        club_detail: `ã€Œãˆã€ã•ã£ãã¨è©±ãŒé•ã„ã¾ã™ã­...å®Ÿã¯ã‚ã¾ã‚Šæ´»å‹•ã—ã¦ãªãã¦...ã€`
                    };
                    document.getElementById('response').textContent = contradictions[type] || 'ã€Œã‚ã‚Œ...ã•ã£ãã¨é•ã†ã“ã¨è¨€ã£ã¦ã¾ã™ã­...ã€';
                    return;
                } else if (currentStudent.shouldPass) {
                    // åˆæ ¼è€…ã¯è½ã¡ç€ã„ã¦åŒã˜å›ç­”
                    document.getElementById('response').textContent = 'ã€Œå…ˆã»ã©ãŠç­”ãˆã—ãŸé€šã‚Šã§ã™ã€‚ï¼ˆè½ã¡ç€ã„ãŸæ§˜å­ï¼‰ã€';
                    return;
                } else {
                    // ä¸åˆæ ¼è€…ã§ã‚‚çŸ›ç›¾ãŒãªã„å ´åˆã¯ç„¦ã‚ŠãªãŒã‚‰ç­”ãˆã‚‹
                    document.getElementById('response').textContent = 'ã€Œãˆã€ãˆã£ã¨...å…ˆã»ã©ã¨åŒã˜ã§...ãã®...ï¼ˆç„¦ã£ãŸæ§˜å­ï¼‰ã€';
                    return;
                }
            }
            
            currentStudent.askedQuestions[type] = true;
            currentStudent.lastQuestion = type;
            
            // æ²ˆé»™ãŒã‚ã‚‹å ´åˆï¼ˆæœ€åˆã®å®Ÿè³ªçš„ãªè³ªå•ã§ç™ºå‹•ï¼‰
            if (currentStudent.hasSilence && currentStudent.questionCount === 1) {
                document.getElementById('response').textContent = 'ã€Œ............ï¼ˆé•·ã„æ²ˆé»™ï¼‰...ã™ã¿ã¾ã›ã‚“ã€ç·Šå¼µã—ã¦...ã€';
                return;
            }
            
            // ç·Šå¼µåº¦ãŒé«˜ã„ã¨å›ç­”ãŒä¸å®‰å®šã«
            const isNervousResponse = !currentStudent.shouldPass && currentStudent.nervousness >= 4;
            
            const responses = {
                motivation: currentStudent.shouldPass ? 
                    `ã€Œè²´æ ¡ã®å……å®Ÿã—ãŸæ•™è‚²ç’°å¢ƒã§å­¦ã³ãŸã„ã¨å¼·ãæ€ã„ã¾ã—ãŸã€‚ç‰¹ã«${currentStudent.club}ã§åŸ¹ã£ãŸå”èª¿æ€§ã‚’æ´»ã‹ã—ã€ä»²é–“ã¨å…±ã«æˆé•·ã—ãŸã„ã§ã™ã€‚ã€` :
                    isNervousResponse ?
                    `ã€Œã‚ã€ãã®...ãˆã£ã¨...${currentStudent.reason}ã§...ï¼ˆå£°ãŒéœ‡ãˆã¦ã„ã‚‹ï¼‰ã€` :
                    currentStudent.hasIrrelevantAnswer ?
                    `ã€Œè¶£å‘³ã¯èª­æ›¸ã§ã™ã€‚ç‰¹ã«ãƒŸã‚¹ãƒ†ãƒªãƒ¼å°èª¬ãŒå¥½ãã§...ã€` :
                    currentStudent.hasContradiction ? 
                    `ã€Œ${currentStudent.reason}ã¨ã„ã†ã®ã‚‚ã‚ã‚Šã¾ã™ã—ã€é€²å­¦å®Ÿç¸¾ãŒè‰¯ã„ã‹ã‚‰ã§ã™ã€‚ã€` :
                    `ã€Œãˆã£ã¨...${currentStudent.reason}...ã§ã™ã€‚ã€`,
                strength: currentStudent.shouldPass ?
                    `ã€Œç§ã®é•·æ‰€ã¯æœ€å¾Œã¾ã§è«¦ã‚ãªã„ç²˜ã‚Šå¼·ã•ã§ã™ã€‚${currentStudent.club}ã®æ´»å‹•ã§ã‚‚ã€å›°é›£ãªå ´é¢ã§ä»²é–“ã‚’åŠ±ã¾ã—ä¹—ã‚Šè¶Šãˆã¦ãã¾ã—ãŸã€‚ã€` :
                    isNervousResponse ?
                    `ã€Œã¡ã‚‡ã€é•·æ‰€...ã§ã™ã‹...ï¼ˆæ‰‹ãŒéœ‡ãˆãªãŒã‚‰ï¼‰...ã†ã¾ãè¨€ãˆã¾ã›ã‚“...ã€` :
                    currentStudent.hasContradiction ?
                    `ã€Œå”èª¿æ€§ãŒã‚ã‚‹ã“ã¨ã¨...ã‚ã¨ã€ä¸€äººã§é»™ã€…ã¨ä½œæ¥­ã™ã‚‹ã®ãŒå¾—æ„ã§ã™ã€‚ã€` :
                    `ã€Œç‰¹ã«...æ€ã„ã¤ãã¾ã›ã‚“ã€‚æ™®é€šã ã¨æ€ã„ã¾ã™ã€‚ã€`,
                study: currentStudent.shouldPass ?
                    `ã€Œæ•°å­¦ãŒå¾—æ„ã§ã™ã€‚è«–ç†çš„ã«è€ƒãˆã‚‹ã“ã¨ãŒå¥½ãã§ã€é›£ã—ã„å•é¡Œã«å–ã‚Šçµ„ã‚€ã“ã¨ã«ã‚„ã‚ŠãŒã„ã‚’æ„Ÿã˜ã¾ã™ã€‚ã€` :
                    isNervousResponse ?
                    `ã€Œã¨ã€å¾—æ„...ï¼ˆæ±—ã‚’æ‹­ããªãŒã‚‰ï¼‰...ãˆã£ã¨ã€ä½•ã§ã—ãŸã£ã‘...ã€` :
                    currentStudent.hasIrrelevantAnswer ?
                    `ã€Œå®¶æ—ã¯ä¸¡è¦ªã¨å¦¹ãŒã„ã¾ã™ã€‚ã¨ã¦ã‚‚ä»²ãŒè‰¯ãã¦...ã€` :
                    currentStudent.hasContradiction ?
                    `ã€Œç†ç³»ç§‘ç›®å…¨èˆ¬ãŒå¾—æ„ã§ã™ã€‚ã„ã‚„ã€æ–‡ç³»ã®æ–¹ãŒ...ã©ã£ã¡ã‚‚æ™®é€šã§ã™ã€‚ã€` :
                    `ã€Œã†ãƒ¼ã‚“...ç‰¹ã«ãªã„ã§ã™ã€‚ã©ã‚Œã‚‚æ™®é€šãã‚‰ã„ã§ã™ã€‚ã€`,
                future: currentStudent.shouldPass ?
                    `ã€Œå°†æ¥ã¯ç ”ç©¶è€…ã«ãªã‚ŠãŸã„ã§ã™ã€‚ãã®ãŸã‚ã«Tå¤§å­¦ã«é€²å­¦ã—ã€å°‚é–€çš„ãªçŸ¥è­˜ã‚’èº«ã«ã¤ã‘ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ã€` :
                    isNervousResponse ?
                    `ã€Œã—ã€å°†æ¥...ï¼ˆè¦–ç·šãŒæ³³ãï¼‰...ã‚ã€ã‚ã‹ã‚Šã¾ã›ã‚“...ã€` :
                    currentStudent.hasContradiction ?
                    `ã€ŒåŒ»è€…ã«ãªã‚ŠãŸã„ã§ã™ã€‚ã„ã‚„ã€æ•™å¸«ã‚‚è‰¯ã„ã‹ãª...ã¨ã‚Šã‚ãˆãšå¤§å­¦ã«ã¯è¡ŒããŸã„ã§ã™ã€‚ã€` :
                    `ã€Œã¾ã æ±ºã¾ã£ã¦ã„ã¾ã›ã‚“...ã¨ã‚Šã‚ãˆãšé«˜æ ¡ã«å…¥ã‚ŠãŸã„ã§ã™ã€‚ã€`,
                absence: currentStudent.shouldPass ?
                    `ã€Œé¢¨é‚ªã§æ•°æ—¥ä¼‘ã‚“ã ã ã‘ã§ã™ã€‚ãã‚Œä»¥å¤–ã¯çš†å‹¤ã§ã—ãŸã€‚ã€` :
                    isNervousResponse ?
                    `ã€Œã‚ã€ã‚ã®...ãã€æ¬ å¸­ã¯...ï¼ˆã†ã‚ãŸãˆã¦ã„ã‚‹ï¼‰...ã€` :
                    currentStudent.hasDocMismatch && currentStudent.absenceNum > 10 ?
                    `ã€Œã»ã¨ã‚“ã©ä¼‘ã‚“ã§ã„ã¾ã›ã‚“ã€‚2ã€3æ—¥ãã‚‰ã„ã§ã™ã€‚ã€` :
                    currentStudent.hasIrrelevantAnswer ?
                    `ã€Œéƒ¨æ´»å‹•ã¯é ‘å¼µã£ã¦ã„ã¾ã—ãŸã€‚æ¯æ—¥ç·´ç¿’ã—ã¦ã„ã¦...ã€` :
                    currentStudent.hasContradiction ?
                    `ã€Œä½“èª¿ä¸è‰¯ã§...ã„ã‚„ã€å®¶åº­ã®äº‹æƒ…ã‚‚...è‰²ã€…ã‚ã‚Šã¾ã—ã¦...ã€` :
                    `ã€Œ...ç‰¹ã«ç†ç”±ã¯ãªã„ã§ã™ã€‚ãªã‚“ã¨ãªã...ã€`,
                club_detail: currentStudent.shouldPass ?
                    `ã€Œ${currentStudent.club}ã§ã¯å‰¯éƒ¨é•·ã‚’å‹™ã‚ã€åœ°åŒºå¤§ä¼šã§æº–å„ªå‹ã—ã¾ã—ãŸã€‚å¾Œè¼©ã®æŒ‡å°ã«ã‚‚åŠ›ã‚’å…¥ã‚Œã¾ã—ãŸã€‚ã€` :
                    isNervousResponse ?
                    `ã€Œã¶ã€éƒ¨æ´»ã¯...ï¼ˆæ‰‹ã§é¡”ã‚’è¦†ã†ï¼‰...ã‚ã¾ã‚Š...ã€` :
                    currentStudent.hasIrrelevantAnswer ?
                    `ã€Œå°†æ¥ã®å¤¢ã¯å…¬å‹™å“¡ã«ãªã‚‹ã“ã¨ã§ã™ã€‚å®‰å®šã—ã¦ã„ã¦...ã€` :
                    currentStudent.hasContradiction ?
                    `ã€Œãƒ¬ã‚®ãƒ¥ãƒ©ãƒ¼ã§æ´»èºã—ã¾ã—ãŸã€‚ã„ã‚„ã€è£œæ¬ ã§ã—ãŸãŒ...é ‘å¼µã‚Šã¾ã—ãŸã€‚ã€` :
                    `ã€Œãã‚“ãªã«çœŸå‰£ã«ã‚„ã£ã¦ãªã‹ã£ãŸã§ã™...ã€`,
                why_here: currentStudent.shouldPass ?
                    `ã€Œä»–æ ¡ã‚‚è¦‹å­¦ã—ã¾ã—ãŸãŒã€è²´æ ¡ã®è‡ªç”±ãªæ ¡é¢¨ã¨çœŸå‰£ã«å­¦ã¶é›°å›²æ°—ã®ãƒãƒ©ãƒ³ã‚¹ãŒæœ€ã‚‚è‡ªåˆ†ã«åˆã†ã¨æ„Ÿã˜ã¾ã—ãŸã€‚ã€` :
                    isNervousResponse ?
                    `ã€Œãªã€ãªãœ...ï¼ˆå£°ãŒè£è¿”ã‚‹ï¼‰...ã‚ã€ã‚ã‹ã‚Šã¾ã›ã‚“...ã€` :
                    currentStudent.hasIrrelevantAnswer ?
                    `ã€Œä¸­å­¦ã§ã¯æ•°å­¦ãŒå¾—æ„ã§ã—ãŸã€‚ãƒ†ã‚¹ãƒˆã§ã‚‚è‰¯ã„ç‚¹ã‚’...ã€` :
                    currentStudent.hasContradiction ?
                    `ã€Œå®¶ã‹ã‚‰è¿‘ã„ã‹ã‚‰ã§ã™ã€‚ã‚ã€ã§ã‚‚æ•™è‚²å†…å®¹ã‚‚...ä¸¡æ–¹ã§ã™ã€‚ã€` :
                    `ã€Œè¦ªã«å‹§ã‚ã‚‰ã‚Œã¦...è‡ªåˆ†ã§ã¯ç‰¹ã«...ã€`,
                last_chance: currentStudent.shouldPass ?
                    `ã€Œå…¥å­¦ã§ããŸã‚‰ã€å‹‰å¼·ã¨éƒ¨æ´»å‹•ã®ä¸¡ç«‹ã‚’é€šã˜ã¦ã€äººé–“çš„ã«ã‚‚æˆé•·ã—ãŸã„ã§ã™ã€‚ãœã²ã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚ã€` :
                    isNervousResponse ?
                    `ã€Œã•ã€æœ€å¾Œã«...ï¼ˆæ¶™ç›®ï¼‰...ãŒã€é ‘å¼µã‚Šã¾ã™...ã€` :
                    currentStudent.hasIrrelevantAnswer ?
                    `ã€Œæ˜¨æ—¥ã¯ã‚ˆãçœ ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ç·Šå¼µã—ã¦...ã€` :
                    `ã€Œãˆã£ã¨...é ‘å¼µã‚Šã¾ã™ã€‚ä»¥ä¸Šã§ã™ã€‚ã€`
            };
            
            document.getElementById('response').textContent = responses[type] || 'ã€Œ...ã¯ã„ã€‚ã€';
        }
        
        function makeDecision(pass) {
            stats.total++;
            const responseDiv = document.getElementById('response');
            
            if (pass) {
                stats.approved++;
                if (currentStudent.shouldPass) {
                    stats.correct++;
                    responseDiv.innerHTML = '<span class="correct">âœ“ æ­£ã—ã„åˆ¤æ–­ï¼å„ªç§€ãªç”Ÿå¾’ã‚’åˆæ ¼ã•ã›ã¾ã—ãŸã€‚</span>';
                } else {
                    responseDiv.innerHTML = `<span class="incorrect">âœ— åˆ¤å®šãƒŸã‚¹ï¼å•é¡Œç‚¹: ${currentStudent.issues.join(', ')}</span>`;
                }
            } else {
                stats.denied++;
                if (!currentStudent.shouldPass) {
                    stats.correct++;
                    responseDiv.innerHTML = `<span class="correct">âœ“ æ­£ã—ã„åˆ¤æ–­ï¼å•é¡Œã‚’è¦‹æŠœãã¾ã—ãŸã€‚(${currentStudent.issues.join(', ')})</span>`;
                } else {
                    responseDiv.innerHTML = '<span class="incorrect">âœ— åˆ¤å®šãƒŸã‚¹ï¼ã“ã®ç”Ÿå¾’ã¯åˆæ ¼åŸºæº–ã‚’æº€ãŸã—ã¦ã„ã¾ã—ãŸã€‚</span>';
                }
            }
            
            updateStats();
            
            setTimeout(() => {
                stats.day++;
                if (stats.day > 10) {
                    endGame();
                } else {
                    generateStudent();
                }
            }, 2500);
        }
        
        function updateStats() {
            document.getElementById('day').textContent = stats.day;
            document.getElementById('approved').textContent = stats.approved;
            document.getElementById('denied').textContent = stats.denied;
            const accuracy = stats.total > 0 ? Math.round((stats.correct / stats.total) * 100) : 100;
            document.getElementById('accuracy').textContent = accuracy;
        }
        
        function endGame() {
            const accuracy = Math.round((stats.correct / stats.total) * 100);
            document.getElementById('final-stats').innerHTML = `
                <p style="font-size: 18px; margin: 20px 0;">
                    é¢æ¥äººæ•°: ${stats.total}<br>
                    åˆ¤å®šç²¾åº¦: ${accuracy}%<br>
                    åˆæ ¼: ${stats.approved} / ä¸åˆæ ¼: ${stats.denied}
                </p>
                <p>${accuracy >= 80 ? 'ãƒ™ãƒ†ãƒ©ãƒ³é¢æ¥å®˜ã§ã™ï¼' : accuracy >= 60 ? 'ã‚‚ã†å°‘ã—æ…é‡ã«åˆ¤å®šã‚’ï¼' : 'é¢æ¥å®˜ã¨ã—ã¦ã®è¨“ç·´ãŒå¿…è¦ã§ã™...'}</p>
            `;
            document.getElementById('game-over').style.display = 'block';
        }
        
        // ã‚²ãƒ¼ãƒ é–‹å§‹
        generateStudent();
    </script>
</body>
</html>